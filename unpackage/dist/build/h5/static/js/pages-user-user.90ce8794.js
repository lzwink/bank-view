(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-user-user"],{"2a8f":function(t,n,a){var e=a("f4d8");"string"===typeof e&&(e=[[t.i,e,""]]),e.locals&&(t.exports=e.locals);var i=a("4f06").default;i("72b7804c",e,!0,{sourceMap:!1,shadowMode:!1})},3570:function(t,n,a){"use strict";var e=function(){var t=this,n=t.$createElement,a=t._self._c||n;return a("v-uni-view",{staticClass:"content"},[t.userName?a("v-uni-view",{staticClass:"btn-row"},[1==t.isSign?a("v-uni-button",{staticClass:"b-border",attrs:{type:"default"}},[t._v("已签到")]):t._e(),2==t.isSign?a("v-uni-button",{staticClass:"b-border",attrs:{type:"warn"},on:{click:function(n){n=t.$handleEvent(n),t.createSign(n)}}},[t._v("待签到")]):t._e(),1==t.isDraw?a("v-uni-button",{staticClass:"b-border",attrs:{type:"default"}},[t._v("已抽奖")]):t._e(),2==t.isDraw&&t.dayNum>=5?a("v-uni-button",{staticClass:"b-border",attrs:{type:"warn"},on:{click:function(n){n=t.$handleEvent(n),t.createDraw(n)}}},[t._v("待抽奖")]):t._e(),2==t.isDraw&&t.dayNum<5?a("v-uni-button",{staticClass:"b-border",attrs:{type:"warn",disabled:"false"},on:{click:function(n){n=t.$handleEvent(n),t.createDraw(n)}}},[t._v("待抽奖")]):t._e(),a("v-uni-button",{staticClass:"b-border",attrs:{type:"warn"},on:{click:function(n){n=t.$handleEvent(n),t.updatePwd(n)}}},[t._v("修改密码")]),a("v-uni-button",{staticClass:"b-border",attrs:{type:"default"},on:{click:function(n){n=t.$handleEvent(n),t.bindLogout(n)}}},[t._v("退出登录")])],1):t._e(),t.userName?t._e():a("v-uni-view",{staticClass:"btn-row"},[a("v-uni-button",{staticClass:"b-border",attrs:{type:"warn"},on:{click:function(n){n=t.$handleEvent(n),t.bindLogin(n)}}},[t._v("登录")])],1)],1)},i=[];a.d(n,"a",function(){return e}),a.d(n,"b",function(){return i})},"4c0b":function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;a("2f62");var e={data:function(){return{userName:"",isSign:0,isDraw:0,dayNum:0}},onLoad:function(t){var n=this;uni.request({url:"http://"+getApp().globalData.urlStr+"/Check",method:"GET",data:{},success:function(t){0==t.data.code?n.userName=t.data.data:uni.redirectTo({url:"../login/login"})},fail:function(){},complete:function(){}})},mounted:function(){this.getUserInfo();var t=new Date;this.dayNum=t.getDay()},methods:{createDraw:function(){var t=this;uni.request({url:"http://"+getApp().globalData.urlStr+"/CreateDraw",method:"GET",data:{},success:function(n){102==n.data.code&&uni.showModal({content:"抱歉，暂未达到抽奖条件！",showCancel:!1,success:function(n){var a=t;n.confirm&&a.$router.go(0)}}),0==n.data.code&&uni.showModal({title:"恭喜您获得",content:n.data.data,showCancel:!1,success:function(n){var a=t;n.confirm&&a.$router.go(0)}})},fail:function(){},complete:function(){}})},updatePwd:function(){uni.navigateTo({url:"../user/pwd"})},createSign:function(){var t=this;uni.request({url:"http://"+getApp().globalData.urlStr+"/CreateSign",method:"GET",data:{},success:function(n){var a=t;0==n.data.code?uni.showModal({content:"签到成功",showCancel:!1,success:function(t){t.confirm&&a.$router.go(0)}}):uni.showModal({content:"签到失败，请重试！",showCancel:!1,success:function(){uni.switchTab({url:"../main/main"})}})},fail:function(){},complete:function(){}})},getUserInfo:function(){var t=this;uni.request({url:"http://"+getApp().globalData.urlStr+"/GetLoginUser",method:"GET",data:{},success:function(n){0==n.data.code?(t.isDraw=n.data.data.IsDraw,t.isSign=n.data.data.IsSign):uni.navigateTo({url:"../login/login"})},fail:function(){},complete:function(){}})},bindLogin:function(){uni.navigateTo({url:"../login/login"})},bindLogout:function(){var t=this;uni.request({url:"http://"+getApp().globalData.urlStr+"/Logout",method:"GET",data:{},success:function(n){0==n.data.code&&(t.userName=n.data.data)},fail:function(){},complete:function(){}}),this.userName||uni.reLaunch({url:"../login/login"})}}};n.default=e},8253:function(t,n,a){"use strict";a.r(n);var e=a("4c0b"),i=a.n(e);for(var o in e)"default"!==o&&function(t){a.d(n,t,function(){return e[t]})}(o);n["default"]=i.a},e95d:function(t,n,a){"use strict";var e=a("2a8f"),i=a.n(e);i.a},ea70:function(t,n,a){"use strict";a.r(n);var e=a("3570"),i=a("8253");for(var o in i)"default"!==o&&function(t){a.d(n,t,function(){return i[t]})}(o);a("e95d");var u=a("2877"),r=Object(u["a"])(i["default"],e["a"],e["b"],!1,null,"ab56e356",null);n["default"]=r.exports},f4d8:function(t,n,a){n=t.exports=a("2350")(!1),n.push([t.i,".b-border[data-v-ab56e356]{margin-bottom:%?20?%}",""])}}]);